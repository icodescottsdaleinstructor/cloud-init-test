#cloud-config
autoinstall:
  version: 1
  identity:
    username: iCodeStudent
    password: ""
    ssh-authorized-keys:
      - ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAACAQDZfAipWjQTPpuvwLm+9UQ1OAOZbNqMQsvkPlmSQovFKJJ+5Ch+eDy4HysRBbERQEmjG0ynPtBeiI2/sDWO77QdxoRuLGSCXnl4V4d75KMYAkY8zrXj3hweXCXkMHvabvYfMY/gZ6sMI/p9V16whBeXBIUfhtDUtU8WjX5W6jXejbhtIGNgBgRDUE4wivUOYV71QUB4skGiEWJ9oqoDhv8/VHgiudq303hF3WMzqLElJNT4910Kp7frW9vhf2R/oM5Q63YGbaDCIf1viOmFwiLyzhfiR+bKmaML8NBIBoHKfnI/Ui8srMTLv23UaTiWbv+011m6JOGcLs/x7I72ZPrICfNgtvnejPCc/wvb9xYeqProqo5ZLENvpgud0wOh/MHwT00t/Ub67RxGkbbk6/CgK0nQVGP/cRVDOW8qTLLxfonQEQm1IE6KKiwUzmXNOwPMyppiql1vTmVSllRnEeGnD06nOoqUUu3M3bFqqZ0evKrHnwCDZy/VVWdOOwhJQl3YYn9cKQ5YMyPUmcvnT4JSBzipniJkKknyBGIFHnLWmuxctFERirWlkOoiiaUtKY4icRYeB3n1N6m/hOag2CiXx7mM4i8/oU60Jd3jkYvbcElhDsy42Gv42xlhHLSPWLGj9WA0u1PmJzQ54c6efKjK3DQP4LSrLGMJcbz6rq7Eyw== icodeadmin@iCode-iMac-Lobby.local 

  user-setup:
    allow-ssh: true
    disable_root: true  # Disable root login
    disable_login: true  # Disable user login

  storage:
    config:
      - type: disk
        id: mydisk
        match:
          size: "all"  # Use all available disk space
        preserve: false
        wipe: superblock
      - type: partition
        id: mypartition
        size: "all"  # Consume all available space
        format: ext4
        mount: /

  # Packages to install
  packages:
    - vim
    - htop

  # late-commands:
    # Unlock the user account after installation
    # - usermod -U iCodeStudent
